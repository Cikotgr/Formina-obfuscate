<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-10-31 03:38:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace App\Http\Controllers; use App\Http\Requests\ProfileUpdateRequest; use App\Models\Profile; use Illuminate\Http\RedirectResponse; use Illuminate\Http\Request; use Illuminate\Support\Facades\Auth; use Illuminate\Support\Facades\Redirect; use Illuminate\View\View; use RealRashid\SweetAlert\Facades\Alert; class ProfilesController extends Controller { public function edit(Request $request) { goto UTPoU; mCS9k: $profile = null; goto dJlS9; d1Jeb: avBJJ: goto U5tje; pRsKQ: $profiles = Profile::where('user_id', '=', Auth::user()->id)->get(); goto CJ5Jf; U5tje: wjOZY: goto LH1wD; dJlS9: goto wjOZY; goto KVnzJ; LH1wD: return view('profile.index', compact('profile')); goto rFfjn; CJ5Jf: foreach ($profiles as $profile) { $profile = $profile; VR3Vn: } goto d1Jeb; UTPoU: if (Profile::where('user_id', '=', Auth::user()->id)->exists()) { goto EI_jN; } goto mCS9k; KVnzJ: EI_jN: goto pRsKQ; rFfjn: } public function store(Request $request) { goto OBlqi; X9Sq1: $data = ['name' => $request->name, 'user_id' => $userId, 'phone_number' => $request->nomerTelephone, 'address' => $request->address]; goto Zj8K7; OBlqi: $userId = Auth::user()->id; goto X9Sq1; Zj8K7: try { goto G9X8k; qWifL: return redirect()->route('profile.edit'); goto JG6tI; gEIV6: Alert::success('Berhasil', 'Berhasil menyimpan profile'); goto qWifL; G9X8k: Profile::create($data); goto gEIV6; JG6tI: } catch (\Exception $e) { Alert::error('Gagal', 'Gagal menyimpan profile'); } goto PIp1x; PIp1x: } public function update(ProfileUpdateRequest $request) : RedirectResponse { goto GEMRs; yE1IU: return Redirect::route('profile.edit')->with('status', 'profile-updated'); goto UU8H7; I2A73: v4z5I: goto A1Pt9; BOkKk: if (!$request->user()->isDirty('email')) { goto v4z5I; } goto ftgjT; ftgjT: $request->user()->email_verified_at = null; goto I2A73; GEMRs: $request->user()->fill($request->validated()); goto BOkKk; A1Pt9: $request->user()->save(); goto yE1IU; UU8H7: } public function destroy(Request $request) : RedirectResponse { goto y68hB; aESCl: $request->session()->invalidate(); goto vt7d1; M0Spd: $user = $request->user(); goto dxhbr; dxhbr: Auth::logout(); goto u3VxY; u3VxY: $user->delete(); goto aESCl; y68hB: $request->validateWithBag('userDeletion', ['password' => ['required', 'current_password']]); goto M0Spd; Je1ma: return Redirect::to('/'); goto gLX0b; vt7d1: $request->session()->regenerateToken(); goto Je1ma; gLX0b: } }
